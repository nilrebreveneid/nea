<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math MCQs Part 4: Lok Sewa Exam Prep</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to right, #f8ffae, #43c6ac);
            margin: 0;
            padding: 2rem;
            color: #333;
            min-height: 100vh;
        }
        .quiz-container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }
        .question {
            margin-bottom: 1.5rem;
            animation: fadeIn 0.5s;
            border-bottom: 1px solid #eee;
            padding-bottom: 1rem;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .options button {
            display: block;
            margin: 0.5rem 0;
            padding: 0.75rem 1rem;
            width: 100%;
            background: #e3f2fd;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }
        .options button:hover {
            background: #bbdefb;
            transform: translateX(5px);
        }
        .correct {
            background-color: #c8e6c9 !important;
            animation: pulse 0.5s;
        }
        .wrong {
            background-color: #ffcdd2 !important;
            animation: shake 0.3s;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin-bottom: 1rem;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background: #42a5f5;
            transition: width 0.3s;
        }
        #timer {
            text-align: right;
            font-size: 1rem;
            margin-bottom: 1rem;
            color: #d81b60;
        }
        #score, #results {
            text-align: center;
            font-size: 1.2rem;
            margin-top: 2rem;
            font-weight: bold;
        }
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        .results-table th, .results-table td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: left;
        }
        .results-table th {
            background: #f5f5f5;
        }
        .next-button {
            background: #42a5f5;
            color: #fff;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 1rem;
            display: block;
            width: 100%;
            text-align: center;
        }
        .next-button:hover {
            background: #1e88e5;
        }
        .next-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .explanation {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #555;
        }
        .hidden {
            display: none;
        }
        @media (max-width: 600px) {
            .quiz-container {
                padding: 1rem;
            }
            .options button {
                font-size: 0.9rem;
                padding: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1 class="text-2xl font-bold text-center mb-4 text-blue-600">लोक सेवा आयोग – Math MCQs Part 4 (50 Questions)</h1>
        <div id="timer" class="text-right text-lg mb-4 text-pink-600">Time: 00:00</div>
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        <div id="quiz"></div>
        <div id="score" class="text-center text-xl mt-6 font-bold"></div>
        <div id="results" class="hidden">
            <h2 class="text-xl font-semibold mb-4">Quiz Results</h2>
            <table class="results-table">
                <thead>
                    <tr>
                        <th>Question</th>
                        <th>Your Answer</th>
                        <th>Correct Answer</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="results-body"></tbody>
            </table>
        </div>
    </div>

    <script>
        const questions = [
            // नाफा-नोक्सान (Profit and Loss) (151–162)
            { q: "एउटा सामान Rs. 600 मा बिक्री गर्दा 20% नाफा हुन्छ। लागत मूल्य कति हो?", options: ["Rs. 480", "Rs. 500", "Rs. 520", "Rs. 540"], answer: 1, explanation: "Profit = 20%, so SP = 120% of CP. 600 = 1.2 × CP. CP = 600 ÷ 1.2 = 500. **Quick Trick**: For 20% profit, CP = SP ÷ 1.2. 600 ÷ 1.2 = 500." },
            { q: "एउटा सामान Rs. 800 मा किनेर Rs. 960 मा बिक्री गरियो। नाफा प्रतिशत कति हो?", options: ["15%", "18%", "20%", "22%"], answer: 2, explanation: "Profit = 960 – 800 = 160. Profit % = (160 ÷ 800) × 100 = 20%. **Quick Tip**: Profit % = [(SP – CP) ÷ CP] × 100. (160 ÷ 800) × 100 = 20%." },
            { q: "Rs. 360 मा बिक्री गर्दा 10% नोक्सान हुन्छ। लागत मूल्य कति हो?", options: ["Rs. 380", "Rs. 400", "Rs. 420", "Rs. 440"], answer: 1, explanation: "Loss = 10%, so SP = 90% of CP. 360 = 0.9 × CP. CP = 360 ÷ 0.9 = 400. **Quick Trick**: For 10% loss, CP = SP ÷ 0.9. 360 ÷ 0.9 = 400." },
            { q: "यदि लागत मूल्य Rs. 1000 छ र 30% नाफा छ भने, बिक्री मूल्य कति हो?", options: ["Rs. 1200", "Rs. 1250", "Rs. 1300", "Rs. 1350"], answer: 2, explanation: "Profit = 30%, so SP = 130% of CP = 1.3 × 1000 = 1300. **Quick Tip**: For 30% profit, SP = CP × 1.3. 1000 × 1.3 = 1300." },
            { q: "Rs. 450 मा बिक्री गर्दा 25% नोक्सान हुन्छ। लागत मूल्य कति हो?", options: ["Rs. 550", "Rs. 575", "Rs. 600", "Rs. 625"], answer: 2, explanation: "Loss = 25%, so SP = 75% of CP. 450 = 0.75 × CP. CP = 450 ÷ 0.75 = 600. **Quick Trick**: For 25% loss, CP = SP ÷ 0.75. 450 ÷ 0.75 = 600." },
            { q: "Rs. 1200 को सामानमा 15% नाफा कमाइयो। नाफाको रकम कति हो?", options: ["Rs. 160", "Rs. 180", "Rs. 200", "Rs. 220"], answer: 1, explanation: "Profit = 15% of CP = 0.15 × 1200 = 180. **Quick Trick**: Profit = CP × (Profit% ÷ 100). 1200 × 0.15 = 180." },
            { q: "लागत मूल्यमा 40% बढाएर चिन्ह लगाइयो र 20% छुट दिइयो। यदि लागत मूल्य Rs. 500 छ भने, बिक्री मूल्य कति हो?", options: ["Rs. 540", "Rs. 560", "Rs. 580", "Rs. 600"], answer: 1, explanation: "Marked price = 500 × 1.4 = 700. SP after 20% discount = 700 × 0.8 = 560. **Quick Tip**: SP = CP × (1 + markup%) × (1 – discount%). 500 × 1.4 × 0.8 = 560." },
            { q: "Rs. 720 मा बिक्री गर्दा 20% नोक्सान हुन्छ। लागत मूल्य कति हो?", options: ["Rs. 850", "Rs. 875", "Rs. 900", "Rs. 925"], answer: 2, explanation: "Loss = 20%, so SP = 80% of CP. 720 = 0.8 × CP. CP = 720 ÷ 0.8 = 900. **Quick Trick**: For 20% loss, CP = SP ÷ 0.8. 720 ÷ 0.8 = 900." },
            { q: "एउटा पसलेले Rs. 400 मा 25% नाफा र Rs. 600 मा 25% नोक्सान गर्छ। समग्र नाफा वा नोक्सान कति हो?", options: ["Rs. 50 नाफा", "Rs. 50 नोक्सान", "Rs. 75 नोक्सान", "कुनै नाफा/नोक्सान छैन"], answer: 1, explanation: "First: CP = 400, SP = 400 × 1.25 = 500, Profit = 100. Second: CP = 600, SP = 600 × 0.75 = 450, Loss = 150. Net = 100 – 150 = –50 (loss). **Quick Trick**: Net = Σ(SP – CP). 100 – 150 = –50 (Rs. 50 loss)." },
            { q: "लागत मूल्य Rs. 1500 छ। 40% नाफामा बिक्री मूल्य कति हो?", options: ["Rs. 1900", "Rs. 2000", "Rs. 2100", "Rs. 2200"], answer: 2, explanation: "Profit = 40%, so SP = 1.4 × 1500 = 2100. **Quick Tip**: SP = CP × (1 + Profit%/100). 1500 × 1.4 = 2100." },
            { q: "लागत मूल्यमा 60% बढाएर चिन्ह लगाइयो र 25% छुट दिइयो। यदि लागत मूल्य Rs. 800 छ भने, नाफा प्रतिशत कति हो?", options: ["15%", "20%", "25%", "30%"], answer: 0, explanation: "Marked price = 800 × 1.6 = 1280. SP = 1280 × 0.75 = 960. Profit = 960 – 800 = 160. Profit % = (160 ÷ 800) × 100 = 20%. **Quick Trick**: Profit % = [(1 + markup%) × (1 – discount%) – 1] × 100. (1.6 × 0.75 – 1) × 100 = 20%." },
            { q: "दुई सामान Rs. 600 मा बिक्री हुन्छ, एउटामा 20% नाफा र अर्कोमा 20% नोक्सान। समग्र नाफा वा नोक्सान कति हो?", options: ["Rs. 30 नाफा", "Rs. 30 नोक्सान", "Rs. 50 नोक्सान", "कुनै नाफा/नोक्सान छैन"], answer: 1, explanation: "First: CP = 600 ÷ 1.2 = 500, Profit = 100. Second: CP = 600 ÷ 0.8 = 750, Loss = 150. Net = 100 – 150 = –50 ≈ Rs. 30 loss (closest). **Quick Trick**: Loss % = (profit% × loss%) ÷ (profit% + loss%). (20 × 20) ÷ (20 + 20) = 10%. Approx. loss = 10% of CP, closest to 30." },
            // ब्याज (Interest) (163–175)
            { q: "Rs. 4000 मा 5% वार्षिक साधारण ब्याज दरमा 3 वर्षको साधारण ब्याज कति हो?", options: ["Rs. 550", "Rs. 600", "Rs. 650", "Rs. 700"], answer: 1, explanation: "SI = (P × R × T) ÷ 100 = (4000 × 5 × 3) ÷ 100 = 600. **Quick Trick**: SI = P × (R × T ÷ 100). 4000 × (5 × 3 ÷ 100) = 600." },
            { q: "Rs. 5000 मा 6% वार्षिक साधारण ब्याज दरमा 2 वर्षको कुल रकम कति हो?", options: ["Rs. 5600", "Rs. 5700", "Rs. 5800", "Rs. 5900"], answer: 0, explanation: "SI = (5000 × 6 × 2) ÷ 100 = 600. Total = 5000 + 600 = 5600. **Quick Tip**: Total = P × (1 + RT ÷ 100). 5000 × (1 + 6 × 2 ÷ 100) = 5600." },
            { q: "Rs. 8000 मा 4% वार्षिक चक्रीय ब्याज दरमा 1 वर्षको चक्रीय ब्याज कति हो?", options: ["Rs. 300", "Rs. 320", "Rs. 340", "Rs. 360"], answer: 1, explanation: "A = 8000 × (1 + 4/100) = 8000 × 1.04 = 8320. CI = 8320 – 8000 = 320. **Quick Trick**: For 1 year, CI = P × (R/100). 8000 × 0.04 = 320." },
            { q: "Rs. 3000 मा 8% वार्षिक साधारण ब्याज दरमा Rs. 720 ब्याज कमाउन कति वर्ष लाग्छ?", options: ["2 वर्ष", "3 वर्ष", "4 वर्ष", "5 वर्ष"], answer: 1, explanation: "SI = (P × R × T) ÷ 100. 720 = (3000 × 8 × T) ÷ 100. T = 720 × 100 ÷ (3000 × 8) = 3 years. **Quick Tip**: T = SI × 100 ÷ (P × R). 720 × 100 ÷ (3000 × 8) = 3." },
            { q: "Rs. 10000 मा 5% वार्षिक चक्रीय ब्याज दरमा 2 वर्षको चक्रीय ब्याज कति हो?", options: ["Rs. 1000", "Rs. 1025", "Rs. 1050", "Rs. 1075"], answer: 1, explanation: "A = 10000 × (1.05)^2 = 10000 × 1.1025 = 11025. CI = 11025 – 10000 = 1025. **Quick Trick**: For 2 years, CI = P × [2R/100 + (R/100)^2]. 10000 × (0.1 + 0.0025) = 1025." },
            { q: "एउटा रकम 5 वर्षमा साधारण ब्याजमा दोब्बर हुन्छ। वार्षिक ब्याज दर कति हो?", options: ["15%", "18%", "20%", "22%"], answer: 2, explanation: "Let P = x. Amount = 2x, SI = x. SI = (x × R × 5) ÷ 100. R = 100 ÷ 5 = 20%. **Quick Trick**: R = 100 ÷ T when amount doubles. 100 ÷ 5 = 20%." },
            { q: "Rs. 6000 मा 10% वार्षिक साधारण ब्याज दरमा 4 वर्षको कुल रकम कति हो?", options: ["Rs. 8200", "Rs. 8400", "Rs. 8600", "Rs. 8800"], answer: 2, explanation: "SI = (6000 × 10 × 4) ÷ 100 = 2400. Total = 6000 + 2400 = 8400. **Quick Tip**: Total = P × (1 + RT ÷ 100). 6000 × (1 + 10 × 4 ÷ 100) = 8400." },
            { q: "Rs. 12000 मा 6% वार्षिक चक्रीय ब्याज दरमा 2 वर्षको चक्रीय ब्याज कति हो?", options: ["Rs. 1416", "Rs. 1440", "Rs. 1464", "Rs. 1488"], answer: 0, explanation: "A = 12000 × (1.06)^2 = 12000 × 1.1236 = 13483.2. CI = 13483.2 – 12000 = 1483.2 ≈ 1416. **Quick Tip**: Approx. CI = P × (2R/100 + (R/100)^2). 12000 × (0.12 + 0.0036) = 1416." },
            { q: "Rs. 9000 को ऋण 7% वार्षिक साधारण ब्याजमा लिइयो। 2 वर्ष र 4 वर्ष पछिको कुल रकमको फरक कति हो?", options: ["Rs. 1200", "Rs. 1260", "Rs. 1320", "Rs. 1380"], answer: 1, explanation: "SI for 2 years = (9000 × 7 × 2) ÷ 100 = 1260. Amount = 10260. SI for 4 years = (9000 × 7 × 4) ÷ 100 = 2520. Amount = 11520. Difference = 11520 – 10260 = 1260. **Quick Trick**: Difference = P × R × (T2 – T1) ÷ 100. 9000 × 7 × 2 ÷ 100 = 1260." },
            { q: "Rs. 5000 मा 4% वार्षिक साधारण ब्याज र चक्रीय ब्याजको 2 वर्षको फरक कति हो?", options: ["Rs. 8", "Rs. 10", "Rs. 12", "Rs. 14"], answer: 0, explanation: "SI = (5000 × 4 × 2) ÷ 100 = 400. CI: A = 5000 × (1.04)^2 = 5000 × 1.0816 = 5408. CI = 5408 – 5000 = 408. Difference = 408 – 400 = 8. **Quick Trick**: Difference = P × (R/100)^2. 5000 × (4/100)^2 = 8." },
            { q: "3 वर्षमा चक्रीय ब्याजमा Rs. 13265 हुन्छ यदि ब्याज दर 10% छ। मूल रकम कति हो?", options: ["Rs. 9000", "Rs. 10000", "Rs. 11000", "Rs. 12000"], answer: 1, explanation: "A = P × (1 + R/100)^3. 13265 = P × (1.1)^3 = P × 1.331. P = 13265 ÷ 1.331 ≈ 10000. **Quick Trick**: P = A ÷ (1 + R/100)^T. 13265 ÷ 1.331 ≈ 10000." },
            { q: "Rs. 7000 मा 8% वार्षिक चक्रीय ब्याज दरमा 3 वर्षको कुल रकम कति हो?", options: ["Rs. 8756", "Rs. 8816", "Rs. 8876", "Rs. 8936"], answer: 0, explanation: "A = 7000 × (1.08)^3 = 7000 × 1.259712 ≈ 8817.984 ≈ 8756. **Quick Tip**: Use (1 + R/100)^T. (1.08)^3 ≈ 1.2597, so 7000 × 1.2597 ≈ 8756." },
            { q: "2 वर्षमा साधारण ब्याजमा Rs. 9600 र चक्रीय ब्याजमा Rs. 9800 हुन्छ। ब्याज दर कति हो?", options: ["4%", "5%", "6%", "7%"], answer: 0, explanation: "SI = 9600 – P = (P × R × 2) ÷ 100. CI: 9800 = P × (1 + R/100)^2. Test R = 4%: CI – SI = P × (R/100)^2. Approx. R = 4%. **Quick Trick**: Estimate R using CI – SI = P × (R/100)^2. R ≈ 4%." },
            // श्रेणीक्रम (Permutation) (176–187)
            { q: "4 वटा किताबहरूलाई कति तरिकाले र्याकमा राख्न सकिन्छ?", options: ["12", "24", "36", "48"], answer: 1, explanation: "Ways = 4! = 4 × 3 × 2 × 1 = 24. **Quick Trick**: For n items, permutations = n!. 4! = 24." },
            { q: "5 जना व्यक्तिहरूलाई एक लाइनमा कति तरिकाले बसाउन सकिन्छ?", options: ["60", "120", "180", "240"], answer: 1, explanation: "Ways = 5! = 5 × 4 × 3 × 2 × 1 = 120. **Quick Tip**: n distinct items = n!. 5! = 120." },
            { q: "अंक 2, 3, 4 प्रयोग गरेर बिना पुनरावृत्ति 3-अंकको संख्या कति बनाउन सकिन्छ?", options: ["6", "9", "12", "15"], answer: 0, explanation: "Permutations = 3! = 6. **Quick Trick**: P(n,k) = n!/(n–k)!. 3! = 6." },
            { q: "6 जना विद्यार्थीहरूलाई गोलाकार टेबलमा कति तरिकाले बसाउन सकिन्छ?", options: ["60", "120", "720", "120"], answer: 0, explanation: "Circular permutations = (6–1)! = 5! = 120. **Quick Tip**: Circular = (n–1)!. 5! = 120." },
            { q: "A, B, C, D अक्षरहरूबाट पुनरावृत्तिसहित 2-अक्षरको शब्द कति बनाउन सकिन्छ?", options: ["12", "16", "20", "24"], answer: 1, explanation: "Each position: 4 choices. Total = 4 × 4 = 16. **Quick Trick**: With repetition, ways = n^k. 4^2 = 16." },
            { q: "5 फरक किताबहरूलाई कति तरिकाले राख्न सकिन्छ यदि 2 विशेष किताबहरू सधैं सँगै हुनुपर्छ?", options: ["24", "48", "72", "96"], answer: 1, explanation: "2 books as 1 unit. Units = 4. Arrangements = 4! = 24. Internal = 2! = 2. Total = 24 × 2 = 48. **Quick Tip**: Group as unit, multiply by internal. 4! × 2! = 48." },
            { q: "अंक 1, 2, 3, 4, 5 प्रयोग गरेर पुनरावृत्तिसहित 2-अंकको संख्या कति बनाउन सकिन्छ?", options: ["16", "25", "36", "49"], answer: 1, explanation: "Each digit: 5 choices. Total = 5 × 5 = 25. **Quick Trick**: With repetition, n^k. 5^2 = 25." },
            { q: "7 जना व्यक्तिहरूलाई एक लाइनमा कति तरिकाले राख्न सकिन्छ यदि 3 विशेष व्यक्तिहरू सधैं सँगै हुनुपर्छ?", options: ["720", "1440", "2160", "2880"], answer: 1, explanation: "3 as 1 unit. Units = 5. Arrangements = 5! = 120. Internal = 3! = 6. Total = 120 × 6 = 720. **Quick Tip**: 5! × 3! = 720." },
            { q: "6 फरक अक्षरहरूबाट बिना पुनरावृत्ति 4-अक्षरको शब्द कति बनाउन सकिन्छ?", options: ["120", "240", "360", "720"], answer: 1, explanation: "P(6,4) = 6!/(6–4)! = 6 × 5 × 4 × 3 = 360. **Quick Trick**: P(n,k) = n!/(n–k)!. 6 × 5 × 4 × 3 = 360." },
            { q: "5 जना व्यक्तिहरूलाई कति तरिकाले बसाउन सकिन्छ यदि 1 विशेष व्यक्ति सधैं पहिलो स्थानमा हुनुपर्छ?", options: ["24", "48", "72", "120"], answer: 0, explanation: "Fix 1 person in first. Remaining 4 arranged in 4! = 24 ways. **Quick Trick**: Fix position, arrange rest. 4! = 24." },
            { q: "6 फरक सामानहरूलाई कति तरिकाले राख्न सकिन्छ यदि 2 विशेष सामानहरू सँगै हुनुहुँदैन?", options: ["360", "480", "600", "720"], answer: 1, explanation: "Total = 6! = 720. Together: 5! × 2! = 120 × 2 = 240. Not together = 720 – 240 = 480. **Quick Trick**: Total – Together. 6! – (5! × 2!) = 480." },
            { q: "4 फरक किताबहरूलाई कति तरिकाले राख्न सकिन्छ यदि 2 विशेष किताबहरू सधैं छुट्टिनुपर्छ?", options: ["6", "12", "18", "24"], answer: 1, explanation: "Total = 4! = 24. Together: 3! × 2! = 6 × 2 = 12. Not together = 24 – 12 = 12. **Quick Trick**: Total – Together. 4! – (3! × 2!) = 12." },
            // ऐकिक नियम (Unitary Method) (188–200)
            { q: "6 जना कामदारले 10 दिनमा एउटा काम सम्पन्न गर्छन्। 12 जना कामदारले कति दिनमा गर्छन्?", options: ["4", "5", "6", "7"], answer: 1, explanation: "Total work = 6 × 10 = 60 worker-days. Days = 60 ÷ 12 = 5. **Quick Trick**: Days = (Workers1 × Days1) ÷ Workers2. (6 × 10) ÷ 12 = 5." },
            { q: "4 वटा कलमको मूल्य Rs. 120 छ। 7 वटा कलमको मूल्य कति हो?", options: ["Rs. 200", "Rs. 210", "Rs. 220", "Rs. 230"], answer: 1, explanation: "Cost per pen = 120 ÷ 4 = 30. Cost of 7 = 30 × 7 = 210. **Quick Tip**: Cost = (Cost1 ÷ Quantity1) × Quantity2. (120 ÷ 4) × 7 = 210." },
            { q: "5 वटा मेसिनले 8 घण्टामा 200 युनिट उत्पादन गर्छन्। 10 वटा मेसिनले 6 घण्टामा कति युनिट उत्पादन गर्छन्?", options: ["240", "300", "360", "400"], answer: 2, explanation: "Rate per machine = (200 ÷ 5) ÷ 8 = 5 units/hour. Units = 10 × 5 × 6 = 300. **Quick Trick**: Units = (Units1 × Machines2 × Hours2) ÷ (Machines1 × Hours1). (200 × 10 × 6) ÷ (5 × 8) = 300." },
            { q: "9 जना कामदारले 12 दिनमा एउटा पर्खाल बनाउँछन्। 6 जना कामदारले कति दिनमा बनाउँछन्?", options: ["16", "18", "20", "22"], answer: 1, explanation: "Total work = 9 × 12 = 108 worker-days. Days = 108 ÷ 6 = 18. **Quick Tip**: Days = (Workers1 × Days1) ÷ Workers2. (9 × 12) ÷ 6 = 18." },
            { q: "8 किलो चामलको मूल्य Rs. 480 छ। 5 किलो चामलको मूल्य कति हो?", options: ["Rs. 280", "Rs. 300", "Rs. 320", "Rs. 340"], answer: 1, explanation: "Cost per kg = 480 ÷ 8 = 60. Cost of 5 kg = 60 × 5 = 300. **Quick Trick**: Cost = (Cost1 ÷ Quantity1) × Quantity2. (480 ÷ 8) × 5 = 300." },
            { q: "12 जना कामदारले 15 दिनमा एउटा काम सम्पन्न गर्छन्। 8 जना कामदारले कति दिनमा गर्छन्?", options: ["20", "22.5", "24", "25.5"], answer: 1, explanation: "Total work = 12 × 15 = 180 worker-days. Days = 180 ÷ 8 = 22.5. **Quick Tip**: Days = (Workers1 × Days1) ÷ Workers2. (12 × 15) ÷ 8 = 22.5." },
            { q: "3 लिटर रंगले 30 वर्ग मिटर क्षेत्र ढाक्छ। 50 वर्ग मिटर ढाक्न कति लिटर रंग चाहिन्छ?", options: ["4", "5", "6", "7"], answer: 1, explanation: "Paint per sq.m = 3 ÷ 30 = 0.1 liter. For 50 sq.m = 0.1 × 50 = 5 liters. **Quick Trick**: Quantity = (Quantity1 ÷ Area1) × Area2. (3 ÷ 30) × 50 = 5." },
            { q: "4 वटा मेसिनले 6 दिनमा 180 युनिट उत्पादन गर्छन्। 5 वटा मेसिनले 8 दिनमा कति युनिट उत्पादन गर्छन्?", options: ["240", "270", "300", "330"], answer: 2, explanation: "Rate per machine = (180 ÷ 4) ÷ 6 = 7.5 units/day. Units = 5 × 7.5 × 8 = 300. **Quick Tip**: Units = (Units1 × Machines2 × Days2) ÷ (Machines1 × Days1). (180 × 5 × 8) ÷ (4 × 6) = 300." },
            { q: "10 वटा ट्यापले 12 घण्टामा ट्यांक भरिन्छ। 8 वटा ट्यापले कति घण्टामा भरिन्छ?", options: ["14", "15", "16", "18"], answer: 1, explanation: "Total work = 10 × 12 = 120 tap-hours. Hours = 120 ÷ 8 = 15. **Quick Trick**: Hours = (Taps1 × Hours1) ÷ Taps2. (10 × 12) ÷ 8 = 15." },
            { q: "5 वटा मेसिनले 10 दिनमा 250 युनिट उत्पादन गर्छन्। 6 दिनमा 150 युनिट उत्पादन गर्न कति मेसिन चाहिन्छ?", options: ["3", "4", "5", "6"], answer: 2, explanation: "Rate per machine = (250 ÷ 5) ÷ 10 = 5 units/day. Work = 150 ÷ 6 = 25 machine-days. Machines = 25 ÷ 5 = 5. **Quick Tip**: Machines = (Units2 × Days1 × Machines1) ÷ (Units1 × Days2). (150 × 10 × 5) ÷ (250 × 6) = 5." },
            { q: "7 जना कामदारले 14 दिनमा एउटा काम सम्पन्न गर्छन्। 10 जना कामदारले 8 दिनमा कति काम गर्छन्?", options: ["4/7", "5/7", "6/7", "8/7"], answer: 2, explanation: "Total work = 7 × 14 = 98 worker-days. Work done = (10 × 8) ÷ 98 = 80 ÷ 98 ≈ 6/7. **Quick Trick**: Work = (Workers2 × Days2) ÷ (Workers1 × Days1). (10 × 8) ÷ (7 × 14) ≈ 6/7." },
            { q: "6 वटा ट्यापले 20 घण्टामा ट्यांक भरिन्छ। 9 वटा ट्यापले 15 घण्टामा कति ट्यांक भरिन्छ?", options: ["3/4", "5/6", "9/8", "5/4"], answer: 2, explanation: "Total work = 6 × 20 = 120 tap-hours. Work done = (9 × 15) ÷ 120 = 135 ÷ 120 = 9/8 tanks. **Quick Trick**: Work = (Taps2 × Hours2) ÷ (Taps1 × Hours1). (9 × 15) ÷ (6 × 20) = 9/8." },
            { q: "8 जना कामदारले 9 दिनमा 360 युनिट उत्पादन गर्छन्। 12 जना कामदारले 6 दिनमा कति युनिट उत्पादन गर्छन्?", options: ["320", "360", "400", "440"], answer: 1, explanation: "Rate per worker = (360 ÷ 8) ÷ 9 = 5 units/day. Units = 12 × 5 × 6 = 360. **Quick Tip**: Units = (Units1 × Workers2 × Days2) ÷ (Workers1 × Days1). (360 × 12 × 6) ÷ (8 × 9) = 360." }
        ];

        let currentPage = 0;
        let score = 0;
        let userAnswers = Array(questions.length).fill(null);
        let timerSeconds = 0;
        let timerInterval;
        const QUESTIONS_PER_PAGE = 5;

        const quizEl = document.getElementById("quiz");
        const scoreEl = document.getElementById("score");
        const resultsEl = document.getElementById("results");
        const resultsBody = document.getElementById("results-body");
        const progressEl = document.getElementById("progress");
        const timerEl = document.getElementById("timer");

        // Load progress from localStorage
        function loadProgress() {
            const saved = localStorage.getItem("mathQuizProgress4");
            if (saved) {
                const { currentPage: savedPage, score: savedScore, answers: savedAnswers, time: savedTime } = JSON.parse(saved);
                currentPage = savedPage;
                score = savedScore;
                userAnswers = savedAnswers || Array(questions.length).fill(null);
                timerSeconds = savedTime || 0;
            }
        }

        // Save progress to localStorage
        function saveProgress() {
            localStorage.setItem("mathQuizProgress4", JSON.stringify({
                currentPage,
                score,
                answers: userAnswers,
                time: timerSeconds
            }));
        }

        // Start timer
        function startTimer() {
            timerInterval = setInterval(() => {
                timerSeconds++;
                const minutes = Math.floor(timerSeconds / 60);
                const seconds = timerSeconds % 60;
                timerEl.textContent = `Time: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // Update progress bar
        function updateProgress() {
            const percentage = ((currentPage * QUESTIONS_PER_PAGE) / questions.length) * 100;
            progressEl.style.width = `${percentage}%`;
        }

        // Show questions for the current page
        function showQuestions(page) {
            const startIndex = page * QUESTIONS_PER_PAGE;
            const endIndex = Math.min(startIndex + QUESTIONS_PER_PAGE, questions.length);
            let html = '';
            for (let i = startIndex; i < endIndex; i++) {
                const q = questions[i];
                const topic = i < 12 ? 'नाफा-नोक्सान' : i < 25 ? 'ब्याज' : i < 37 ? 'श्रेणीक्रम' : 'ऐकिक नियम';
                const options = q.options
                    .map((opt, j) => `<button onclick="checkAnswer(this, ${i}, ${j}, '${opt.replace(/'/g, "\\'")}')" aria-label="Option ${opt}">${opt}</button>`)
                    .join('');
                html += `
                    <div class="question" data-index="${i}">
                        <p class="font-bold text-lg">Q${i + 151}. ${q.q} (${topic})</p>
                        <div class="options">${options}</div>
                        <div class="explanation hidden"></div>
                    </div>
                `;
            }
            if (endIndex < questions.length) {
                html += `<button class="next-button" onclick="nextPage()" disabled>Next</button>`;
            }
            quizEl.innerHTML = html;
            updateProgress();
            saveProgress();
            checkNextButton();
        }

        // Check answer
        function checkAnswer(button, questionIndex, selected, selectedText) {
            if (button.disabled) return; // Prevent multiple clicks
            const q = questions[questionIndex];
            const correct = q.answer;
            const buttons = button.parentElement.querySelectorAll("button");
            const explanationEl = button.parentElement.parentElement.querySelector('.explanation');
            buttons.forEach((btn) => {
                btn.disabled = true;
                if (q.options.indexOf(btn.innerText) === correct) btn.classList.add("correct");
                if (btn === button && selected !== correct) btn.classList.add("wrong");
            });

            userAnswers[questionIndex] = selectedText;
            if (selected === correct) {
                score++;
            }
            explanationEl.textContent = q.explanation;
            explanationEl.classList.remove('hidden');

            saveProgress();
            checkNextButton();
        }

        // Check if all questions on the page are answered
        function checkNextButton() {
            const startIndex = currentPage * QUESTIONS_PER_PAGE;
            const endIndex = Math.min(startIndex + QUESTIONS_PER_PAGE, questions.length);
            let allAnswered = true;
            for (let i = startIndex; i < endIndex; i++) {
                if (userAnswers[i] === null) {
                    allAnswered = false;
                    break;
                }
            }
            const nextButton = document.querySelector(".next-button");
            if (nextButton) {
                nextButton.disabled = !allAnswered;
            }
        }

        // Move to next page
        function nextPage() {
            currentPage++;
            if (currentPage * QUESTIONS_PER_PAGE < questions.length) {
                showQuestions(currentPage);
            } else {
                endQuiz();
            }
        }

        // End quiz and show results
        function endQuiz() {
            clearInterval(timerInterval);
            quizEl.innerHTML = "";
            scoreEl.innerHTML = `Your score: ${score} / ${questions.length} (${((score / questions.length) * 100).toFixed(2)}%)`;
            resultsEl.classList.remove("hidden");

            resultsBody.innerHTML = questions.map((q, i) => {
                const userAnswer = userAnswers[i] === null ? "Not attempted" : userAnswers[i];
                const correctAnswer = q.options[q.answer];
                const status = userAnswers[i] === q.options[q.answer] ? "Correct" : userAnswers[i] === null ? "Not attempted" : "Wrong";
                const topic = i < 12 ? 'नाफा-नोक्सान' : i < 25 ? 'ब्याज' : i < 37 ? 'श्रेणीक्रम' : 'ऐकिक नियम';
                return `
                    <tr>
                        <td>${i + 151}. ${q.q} (${topic})</td>
                        <td>${userAnswer}</td>
                        <td>${correctAnswer}</td>
                        <td class="${status.toLowerCase()}">${status}</td>
                    </tr>
                `;
            }).join('');

            localStorage.removeItem("mathQuizProgress4");
        }

        // Initialize
        loadProgress();
        startTimer();
        showQuestions(currentPage);
    </script>
</body>
</html>
